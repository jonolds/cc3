#!/bin/bash
tarname="pa3_olds"
mainclass="WordCount"

# DELETE TAR and STAGING directory if present
rm $tarname.tar
rm STAGING/*

# COPY EVERYTHING TO TOP STAGING
cp src/main/java/*.java answer.txt -r input STAGING
cd STAGING

# TEST - compile / put in jar / delete .class / run
javac *.java -Xlint:deprecation -d .
jar -cvf TestJar.jar *.class
hadoop jar TestJar.jar $mainclass input output
# cat ./output/part-r-00000

# CREATE TAR
tar -cvf ../$tarname.tar *.java answer.txt input output
cd ..

